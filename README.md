# Hand Tracking Gamepad Controller

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –≥–µ–π–º–ø–∞–¥–æ–º —Å –ø–æ–º–æ—â—å—é –∂–µ—Å—Ç–æ–≤ —Ä—É–∫, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–µ–º—ã—Ö —á–µ—Ä–µ–∑ –≤–µ–±-–∫–∞–º–µ—Ä—É. –î–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ —Ä—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **MediaPipe Hands**, –∞ –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ –≥–µ–π–º–ø–∞–¥–∞ - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ **vgamepad**.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ **–ª–µ–≤—ã–º –∏ –ø—Ä–∞–≤—ã–º —Å—Ç–∏–∫–æ–º** –≥–µ–π–º–ø–∞–¥–∞ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–æ–∂–µ–Ω–∏—è –ª–∞–¥–æ–Ω–µ–π
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–¥–≤—É—Ö —Ä—É–∫**
* –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–ª—å—Ü–µ–≤ (—Å–æ–≥–Ω—É—Ç / —Ä–∞–∑–æ–≥–Ω—É—Ç)
* –≠–º—É–ª—è—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –≥–µ–π–º–ø–∞–¥–∞:

  * `A`
  * `LB`
  * `RB`
  * `START`
* –ó–µ—Ä–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
* –°–º–µ–Ω–∞ —Ñ–æ–Ω–∞ (–∫–∞–º–µ—Ä–∞ / –∑–µ–ª—ë–Ω—ã–π / —Å–∏–Ω–∏–π)
* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–µ–ª–µ—Ç–∞ —Ä—É–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–∞–ª—å—Ü–µ–≤

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±–∏–Ω–¥—ã

**–í–∞–∂–Ω–æ:** –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **—Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∫–Ω–æ–ø–æ–∫ –≥–µ–π–º–ø–∞–¥–∞**.

–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ - –ø—Ä–æ–µ–∫—Ç –ø–∏—Å–∞–ª—Å—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∏–≥—Ä—É (**Hotline Miami**), –≥–¥–µ –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª—Å—è –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∫–Ω–æ–ø–æ–∫ Xbox-–≥–µ–π–º–ø–∞–¥–∞. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

* –í—ã –º–æ–∂–µ—Ç–µ **–¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–∏–Ω–¥—ã**
* –†–∞—Å—à–∏—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É –∂–µ—Å—Ç–æ–≤
* –ù–∞–∑–Ω–∞—á–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã

–î–ª—è —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∂–µ—Å—Ç–æ–≤ –∏ –≤—ã–∑–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã `vgamepad`.

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –°—Ç–∏–∫–∏

* **–õ–µ–≤–∞—è —Ä—É–∫–∞** ‚Üí –ª–µ–≤—ã–π —Å—Ç–∏–∫
* **–ü—Ä–∞–≤–∞—è —Ä—É–∫–∞** ‚Üí –ø—Ä–∞–≤—ã–π —Å—Ç–∏–∫
* –°–º–µ—â–µ–Ω–∏–µ –ª–∞–¥–æ–Ω–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –∑–æ–Ω—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å–∏–ª—É –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Å—Ç–∏–∫–∞

### –ö–Ω–æ–ø–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

| –ñ–µ—Å—Ç | –û–ø–∏—Å–∞–Ω–∏–µ –∂–µ—Å—Ç–∞ | –ó–æ–Ω–∞ | –ö–Ω–æ–ø–∫–∞ |
|------|---------------|------|--------|
| ‚úä | –í—Å–µ –ø–∞–ª—å—Ü—ã —Å–∂–∞—Ç—ã | –õ–µ–≤–∞—è | A |
| ü§ü | –£–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π + –º–∏–∑–∏–Ω–µ—Ü, –±–µ–∑ –±–æ–ª—å—à–æ–≥–æ | –õ–µ–≤–∞—è | LB |
| ‚úä | –í—Å–µ –ø–∞–ª—å—Ü—ã —Å–∂–∞—Ç—ã | –ü—Ä–∞–≤–∞—è | RB |
| ü§ü | –£–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π + –º–∏–∑–∏–Ω–µ—Ü, –±–µ–∑ –±–æ–ª—å—à–æ–≥–æ | –ü—Ä–∞–≤–∞—è | START |
---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
**–í–µ—Ä—Å–∏—è Python**: `3.12`, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–ª–∞–ª—Å—è –Ω–∞ `3.12.6`

**–†–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è mediapipe, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –¥–µ–ª–∞–ª—Å—è –ø—Ä–æ–µ–∫—Ç:**

```
mediapipe==0.10.21
```

**–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç** –Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `0.10.32`) –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–µ MediaPipe Hands.

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```bash
pip install mediapipe==0.10.21 opencv-python numpy vgamepad
```

---

## –ó–∞–ø—É—Å–∫

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–µ–±-–∫–∞–º–µ—Ä—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [ViGEmBus Driver](https://github.com/nefarius/ViGEmBus/releases). (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è `vgamepad`)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
python main.py
```

---

## –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ                  |
| ------- | ------------------------- |
| `q`     | –í—ã—Ö–æ–¥                     |
| `b`     | –°–∏–Ω–∏–π —Ñ–æ–Ω                 |
| `g`     | –ó–µ–ª—ë–Ω—ã–π —Ñ–æ–Ω               |
| `r`     | –û–±—ã—á–Ω–∞—è –∫–∞–º–µ—Ä–∞            |
| `m`     | –í–∫–ª/–≤—ã–∫–ª –∑–µ—Ä–∫–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º |

---

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –±–∏–Ω–¥

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –±–∏–Ω–¥–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Ç—Ä—ë–º —à–∞–≥–∞–º: **–æ–ø–∏—Å–∞–Ω–∏–µ –∂–µ—Å—Ç–∞**, **—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ –∫–Ω–æ–ø–∫–∏** –∏ **–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –µ–≥–æ –∫ –≥–µ–π–º–ø–∞–¥—É**.

---

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∂–µ—Å—Ç–∞

–í –ø—Ä–æ–≥—Ä–∞–º–º–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–ª—å—Ü–µ–≤ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è `fingers`:

* `fingers["thumb"]`
* `fingers["index"]`
* `fingers["middle"]`
* `fingers["ring"]`
* `fingers["pinky"]`

–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `True` (–ø–∞–ª–µ—Ü —Ä–∞–∑–æ–≥–Ω—É—Ç) –∏–ª–∏ `False` (–ø–∞–ª–µ—Ü —Å–æ–≥–Ω—É—Ç).

–ü—Ä–∏–º–µ—Ä—ã –∂–µ—Å—Ç–æ–≤:

* **–ö—É–ª–∞–∫**: –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `False`
* **–î–≤–∞ –ø–∞–ª—å—Ü–∞**: `index=True`, `middle=True`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ `False`
* **–£–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–ª–µ—Ü**: `index=True`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ `False`

---

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ –∫–Ω–æ–ø–∫–∏

–í –Ω–∞—á–∞–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±—ä—è–≤–∏—Ç–µ –Ω–æ–≤—ã–π —Ñ–ª–∞–≥ –∫–Ω–æ–ø–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –∫–Ω–æ–ø–∫–∏ **X**:

```python
btn_x = False
```

---

### 3. –ü—Ä–∏–≤—è–∑–∫–∞ –∂–µ—Å—Ç–∞ –∫ –∫–Ω–æ–ø–∫–µ

–í –±–ª–æ–∫–µ **–ª–æ–≥–∏–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∞–º–∏ –≥–µ–π–º–ø–∞–¥–∞** –¥–æ–±–∞–≤—å—Ç–µ —É—Å–ª–æ–≤–∏–µ –¥–ª—è –Ω—É–∂–Ω–æ–π –∑–æ–Ω—ã.

–ü—Ä–∏–º–µ—Ä: –∫–Ω–æ–ø–∫–∞ **X** –Ω–∞–∂–∏–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω–∞ –ª–µ–≤–æ–π —Ä—É–∫–µ –ø–æ–¥–Ω—è—Ç—ã —É–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –∏ —Å—Ä–µ–¥–Ω–∏–π –ø–∞–ª—å—Ü—ã:

```python
if zone_name == "Left Zone":
    if fingers["index"] and fingers["middle"] and not fingers["ring"] and not fingers["pinky"]:
        btn_x = True
```

---

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∫ –≥–µ–π–º–ø–∞–¥—É

–ù–∏–∂–µ, –≤ —Å–µ–∫—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫ –≥–µ–π–º–ø–∞–¥—É, –¥–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–Ω–æ–ø–∫–∏:

```python
if btn_x:
    gamepad.press_button(vg.XUSB_BUTTON.XUSB_GAMEPAD_X)
else:
    gamepad.release_button(vg.XUSB_BUTTON.XUSB_GAMEPAD_X)
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∞ **X** –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å—Å—è –∏ –æ—Ç–ø—É—Å–∫–∞—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∂–µ—Å—Ç–∞.

